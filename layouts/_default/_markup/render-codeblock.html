    <div class="highlight" style="position: relative;">
                    {{- $h := highlight .Inner .Type "" -}}
                    {{- $h | replaceRE "(?s)<pre([^>]*)>" "<pre$1 style=\"white-space: pre-wrap !important; overflow-wrap: anywhere !important; word-break: break-word !important; overflow-x: visible !important;\">" | replaceRE "<span class=\"line\"" "<span class=\"line\" style=\"flex-wrap: wrap !important; white-space: pre-wrap !important;\"" | safeHTML -}}
                    <button type="button" class="copy-code-button" aria-label="Copy code" style="position: absolute; right: 0.5rem; bottom: 0.5rem; padding: 0.25rem 0.5rem; font-size: 0.8rem; border-radius: 4px; border: 1px solid rgba(0,0,0,0.08); background: rgba(255,255,255,0.9); cursor: pointer;">
                        <span class="icon" aria-hidden="true"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></span>
                        <span class="sr-only" style="position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;">Copy code</span>
                    </button>
            </div>
            <script>
            (function(){
                if (window.__hugoCopyCodeInstalled) return;
                window.__hugoCopyCodeInstalled = true;
                document.addEventListener('click', function(e){
                    var btn = e.target.closest && e.target.closest('.copy-code-button');
                    if (!btn) return;
                    var highlight = btn.closest('.highlight');
                    if (!highlight) return;
                    var pre = highlight.querySelector('pre') || highlight.querySelector('code');
                    var text = pre ? pre.innerText : '';
                    if (!text) return;
                    var originalHTML = btn.innerHTML;
                    function onSuccess(){
                        // show a check icon briefly
                        btn.innerHTML = '<span class="icon" aria-hidden="true">'
                            + '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">'
                            + '<path d="M20 6L9 17l-5-5"></path></svg></span>'
                            + '<span class="sr-only" style="position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;">Copied</span>';
                        setTimeout(function(){ btn.innerHTML = originalHTML; }, 2000);
                    }
                    if (navigator.clipboard && navigator.clipboard.writeText){
                        navigator.clipboard.writeText(text).then(onSuccess).catch(function(){ fallbackCopy(text,onSuccess); });
                    } else {
                        fallbackCopy(text,onSuccess);
                    }
                    function fallbackCopy(text, cb){
                        var ta = document.createElement('textarea');
                        ta.value = text;
                        ta.setAttribute('readonly','');
                        ta.style.position = 'absolute';
                        ta.style.left = '-9999px';
                        document.body.appendChild(ta);
                        ta.select();
                        try { document.execCommand('copy'); cb(); } catch(e) { console.warn('copy failed', e); }
                        document.body.removeChild(ta);
                    }
                }, false);
            })();
            </script>
            {{- with .Attributes.title -}}
            <div class="code-block-title" style="text-align: center;">{{ . }}</div>
            {{- end -}}
